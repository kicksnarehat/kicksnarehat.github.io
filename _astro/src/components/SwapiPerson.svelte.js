import{S as e,i as t,s as a,o as s,e as r,t as o,a as n,p as c,c as l,b as i,d as h,f as d,g as u,h as p,j as m,k as f,l as b,u as v,n as x,q as w,v as g,m as y}from"../../../svelte.internal.v3.44.0-1ba5a119.js";import{w as k}from"../../../svelte.store.v3.44.0-ae679972.js";if("undefined"!=typeof document){const e=".character.svelte-185wxex{color:rgb(109, 53, 109);font-size:large;font-weight:600;margin:1rem 0}button.svelte-185wxex{margin:1rem;padding:0.5rem 1rem;border-radius:0.8rem;border:1px solid #ccc;box-shadow:none}button.svelte-185wxex:hover{color:white;background:black}",t=document.createElement("style"),a=document.createTextNode(e);t.type="text/css",t.appendChild(a),document.head.appendChild(t)}const E=new Map;function P(e){let t,a;return{c(){t=r("p"),a=o("Oops! Error!")},l(e){t=l(e,"P",{});var s=i(t);a=h(s,"Oops! Error!"),s.forEach(d)},m(e,s){m(e,t,s),f(t,a)},p:x,d(e){e&&d(t)}}}function N(e){let t,a,s,c,b,v,x,w,g=e[3]?.name+"",k=e[3]?.birth_year+"",E=JSON.stringify(e[3],null,2)+"";return{c(){t=r("p"),a=o(g),s=o(" (birth year: "),c=o(k),b=o(")"),v=n(),x=r("pre"),w=o(E),this.h()},l(e){t=l(e,"P",{class:!0});var r=i(t);a=h(r,g),s=h(r," (birth year: "),c=h(r,k),b=h(r,")"),r.forEach(d),v=u(e),x=l(e,"PRE",{});var o=i(x);w=h(o,E),o.forEach(d),this.h()},h(){p(t,"class","character svelte-185wxex")},m(e,r){m(e,t,r),f(t,a),f(t,s),f(t,c),f(t,b),m(e,v,r),m(e,x,r),f(x,w)},p(e,t){2&t&&g!==(g=e[3]?.name+"")&&y(a,g),2&t&&k!==(k=e[3]?.birth_year+"")&&y(c,k),2&t&&E!==(E=JSON.stringify(e[3],null,2)+"")&&y(w,E)},d(e){e&&d(t),e&&d(v),e&&d(x)}}}function O(e){let t,a;return{c(){t=r("p"),a=o("Loading...")},l(e){t=l(e,"P",{});var s=i(t);a=h(s,"Loading..."),s.forEach(d)},m(e,s){m(e,t,s),f(t,a)},p:x,d(e){e&&d(t)}}}function j(e){let t,a,w,g,y,k,E,j,C={ctx:e,current:null,token:null,hasCatch:!0,pending:O,then:N,catch:P,value:3};return s(k=e[1],C),{c(){t=r("button"),a=o("Reload"),g=n(),y=c(),C.block.c(),this.h()},l(e){t=l(e,"BUTTON",{class:!0});var s=i(t);a=h(s,"Reload"),s.forEach(d),g=u(e),y=c(),C.block.l(e),this.h()},h(){t.disabled=w=!e[1],p(t,"class","svelte-185wxex")},m(s,r){m(s,t,r),f(t,a),m(s,g,r),m(s,y,r),C.block.m(s,C.anchor=r),C.mount=()=>y.parentNode,C.anchor=y,E||(j=b(t,"click",e[2]),E=!0)},p(a,[r]){e=a,2&r&&w!==(w=!e[1])&&(t.disabled=w),C.ctx=e,2&r&&k!==(k=e[1])&&s(k,C)||v(C,e,r)},i:x,o:x,d(e){e&&d(t),e&&d(g),e&&d(y),C.block.d(e),C.token=null,C=null,E=!1,j()}}}function C(e,t,a){let s,r,o=x;function n(){const e=Math.floor(10*Math.random())+1;a(0,r=function(e){const t=k(new Promise((()=>{})));return E.has(e)&&t.set(Promise.resolve(E.get(e))),(async()=>{try{const a=await(window?.fetch(e)),s=await a.json();E.set(e,s),t.set(Promise.resolve(s))}catch(e){console.log(e)}})(),t}(`https://swapi.dev/api/people/${e}/`)),o(),o=g(r,(e=>a(1,s=e)))}return e.$$.on_destroy.push((()=>o())),w(n),[r,s,n]}class M extends e{constructor(e){super(),t(this,e,C,j,a,{})}}export{M as default};
